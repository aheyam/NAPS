{% extends "layout.html" %}

{% block scripts %}
<script src="{{ url_for('static', filename='javascript/jquery-3.4.1.min.js') }}"></script>
<script src="{{ url_for('static', filename='javascript/submit.js') }}"></script>
{% endblock %}

{% block content %}
<p>
    SNAPS (Simple NMR Assignments from Predicted Shifts) is a program for assigning protein backbone NMR data, using chemical shift predictions derived from 3D structures.
</p>
<p>
    To use, submit files in the form below, and results will be displayed on this page. Leave both observed and predicted shift files empty to run SNAPS on demonstration data.
</p>
<div id="input-section">
    <h2>SNAPS Submission</h2>
    <form id="input-form" action="/submit" method="post", enctype="multipart/form-data">
        <table>
        {% for field in form %}
            {% if field.name == "csrf_token" %}
            <!-- Hidden CSRF token (part of flask_wtf) -->
            <div hidden> {{field}} </div>
            {% else %}
            <tr>
                <td> {{ field.label }} </td>
                <td> {{ field }} </td>
            </tr>
            {% endif %}
        {% endfor %}
        </table>
        <p><button type="button" id="submit-button">Submit</button></p>
    </form>

</div>

<div id="error-section" hidden>
    <h2>Errors</h2>
    <div id="error-messages"></div>
</div>

<div id="results-section" hidden>
    <div id="downloads"></div>
    <div id="plots"></div>
</div>
{% endblock %}
